<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>
<body>
    <div class="container">
        <h3>Assignor Profile</h3>
        <div class="container" th:object="${assignor}">
          Assignor Name: <span th:text="*{name}" />
          <br>
          Assignor Id: <span th:text="*{userId}" />
          <br>
          Assignor Email: <span th:text="*{email}" />
        </div>
        <h3 class="mb-5 mt-5">Task Directory</h3>
        <!-- add task -->
        <!-- <button>Add Task</button> -->
        <a th:href="@{/users/assignor/add}" class="btn btn-info col-2 mb-5">Add Task</a>
        <table class="table table-bordered table-striped"> 
            <thead class="table-dark">
                <tr>
                  <th>Task Id</th>
                  <th>Task Title</th>
                  <th>Task Note</th>
                  <th>Assignor Id</th>
                  <th>Assignee Id</th>
                  <th>Assigned date</th>
                  <th>Due date</th>
                  <th>Task status</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody>
                <tr th:each="task : ${tasks}">
                    <td th:text="${task.taskId}" />
                    <td th:text="${task.taskTitle}" />
                    <td th:text="${task.taskNote}" />
                    <td th:text="${task.assignorId}" />
                    <td th:text="${task.assigneeId}" />
                    <td th:text="${task.assignedDate}" />
                    <td th:text="${task.dueDate}" />
                    <td th:text="${task.taskStatus}" />
                    <td>
                      <a th:href="@{/users/assignor/update(taskId=${task.taskId})}" class="btn btn-info">Update</a>
                    </td>
                    <!-- add a button to update the status -->
                    <!-- repopulate all the tasks in the form with save button -->
                </tr>
              </tbody>
        </table>
    </div>
    <!-- logout button and redirect to login -->
</body>
</html>